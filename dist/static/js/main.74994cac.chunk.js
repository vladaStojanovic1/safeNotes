(this.webpackJsonpaa=this.webpackJsonpaa||[]).push([[0],{100:function(e,a,t){e.exports=t.p+"static/media/profile.c3e2f71c.jpg"},267:function(e,a,t){e.exports=t.p+"static/media/note-modal2.cf9ec61d.png"},268:function(e,a,t){e.exports=t.p+"static/media/pin.ecffbada.png"},272:function(e,a,t){e.exports=t(487)},277:function(e,a,t){},487:function(e,a,t){"use strict";t.r(a);var n=t(85),r=t(0),c=t.n(r),l=t(61),s=t.n(l),o=(t(277),t(7)),i=t(3),m=t(20),u=t(8),d=t(9),f=t.n(d),p=t(32),E=function(e){var a=e.message,t=e.touched,n={fontSize:"10px",color:"#ff6565",fontWeight:"bold",marginTop:"4px",visibility:a?"visible":"hidden"};return a&&t?c.a.createElement("p",{style:n},a):c.a.createElement(c.a.Fragment,null)},b=t(10),v=b.a().shape({firstName:b.c().required("Name is required.").min(3,"To short").max(25,"To long."),lastName:b.c().required("Last name is required.").min(3,"To short").max(25,"To long."),email:b.c().email("Invalid email").required("The email is required"),password:b.c().required("The password is required").min(8,"The password is to short"),confirmPassword:b.c().oneOf([b.b("password"),null],"Password doesn't match.").required("You need to confirm your password")}),h=b.a().shape({email:b.c().email("Invalid email").required("The email is required"),password:b.c().required("The password is required").min(8,"To short..")}),g=b.a().shape({firstName:b.c().required("Your name is required.").min(3,"To short").max(25,"To long."),lastName:b.c().required("Your last name is required.").min(3,"To short").max(25,"To long."),email:b.c().email("Invalid email").required("The email is required"),password:b.c().min(8,"The password is to short"),confirmPassword:b.c().when("password",{is:function(e){return e&&e.length>0},then:b.c().oneOf([b.b("password")],"Both passwords need to be the same").required()})}),N=b.a().shape({note:b.c().required("The todo is required").min(4,"To short.")}),O=function(e){var a=e.error;return c.a.createElement("p",{className:"error-message"},a)},j=function(){return c.a.createElement("div",{class:"lds-roller"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))},y=function(){var e=Object(i.b)(),a=Object(r.useCallback)((function(a){return e(function(e){return function(){var a=Object(p.a)(f.a.mark((function a(t,n,r){var c,l;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r.getFirebase,l=c(),t({type:"AUTH_START"}),a.prev=3,a.next=6,l.auth().signInWithEmailAndPassword(e.email,e.password);case 6:t({type:"AUTH_SUCCESS"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),t({type:"AUTH_FAIL",payload:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e,t,n){return a.apply(this,arguments)}}()}(a))})),t=Object(i.c)((function(e){return e.auth.error})),n=Object(i.c)((function(e){return e.auth.loading})),l=Object(r.useCallback)((function(){return e({type:"CLEAN_UP"})}));return Object(r.useEffect)((function(){return function(){l()}}),[]),c.a.createElement("div",{className:"login-content"},c.a.createElement("div",{className:"login-container"},c.a.createElement("div",{className:"logo"},c.a.createElement("div",{className:"my-logo-text"},c.a.createElement("h2",null,"Welcome"),c.a.createElement("span",{className:"app-title"},"SafeNotes"),c.a.createElement("i",{class:"fas fa-lock"}))),c.a.createElement("div",{className:"login-form"},c.a.createElement(u.b,{validateOnMount:!0,initialValues:{email:"",password:""},validationSchema:h,onSubmit:function(e,t){var n=t.setSubmitting,r=t.resetForm;n(!0),a(e),r()}},(function(e){var a=e.errors,r=e.touched,l=e.isValid,s=e.handleSubmit;return c.a.createElement("form",{className:"login-form",onSubmit:s},c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-envelope iconEmail"}),l?c.a.createElement("i",{class:"fas fa-check checkIcon"}):null,c.a.createElement(u.a,{className:"email-input",name:"email",type:"email",placeholder:"Enter email"}),c.a.createElement(E,{touched:r.email,message:a.email})),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-key iconPassword"}),l?c.a.createElement("i",{class:"fas fa-check checkIcon"}):null,c.a.createElement(u.a,{className:"password-input",name:"password",type:"password",placeholder:"Enter password"}),c.a.createElement(E,{touched:r.password,message:a.password})),c.a.createElement("div",{className:"input-group"},c.a.createElement("button",{className:"login-btn",disabled:!l,type:"submit"},l?"Login":c.a.createElement("i",{class:"fas fa-ban"})),c.a.createElement(O,{error:t})),n?c.a.createElement(j,null):null)}))),c.a.createElement("div",{className:"register"},c.a.createElement("h3",null,"Have no account on ",c.a.createElement("span",{className:"app-title"},"SafeNotes")," ?"),c.a.createElement(m.b,{className:"btn-register",to:"/signup"},"Get registered"))))},w=function(){var e=Object(i.b)(),a=Object(r.useCallback)((function(a){return e(function(e){return function(){var a=Object(p.a)(f.a.mark((function a(t,n,r){var c,l,s,o,i,m;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r.getFirebase,l=r.getFirestore,s=c(),o=l(),t({type:"AUTH_START"}),console.log(s),a.prev=5,a.next=8,s.auth().createUserWithEmailAndPassword(e.email,e.password);case 8:return i=a.sent,m=s.auth().currentUser,a.next=12,m.sendEmailVerification();case 12:return a.next=14,o.collection("users").doc(i.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:"".concat(e.firstName[0]).concat(e.lastName[0])});case 14:t({type:"AUTH_SUCCESS"}),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(5),t({type:"AUTH_FAIL",payload:a.t0.message});case 20:t({type:"AUTH_END"});case 21:case"end":return a.stop()}}),a,null,[[5,17]])})));return function(e,t,n){return a.apply(this,arguments)}}()}(a))})),t=Object(i.c)((function(e){return e.auth.error})),n=Object(i.c)((function(e){return e.auth.loading})),l=Object(r.useCallback)((function(){return e({type:"CLEAN_UP"})}));return Object(r.useEffect)((function(){return function(){l()}}),[]),c.a.createElement("div",{className:"signup-content"},c.a.createElement("div",{className:"register-container"},c.a.createElement("div",{className:"title-register"},c.a.createElement("p",null,"Come join our ",c.a.createElement("span",{className:"app-title"},"SafeNotes",c.a.createElement("i",{class:"fas fa-lock"}))," app!",c.a.createElement("br",null)," Let's set up your account")),c.a.createElement("div",{className:"register-form"},c.a.createElement(u.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validateOnMount:!0,validationSchema:v,onSubmit:function(e,t){t.setSubmitting,t.resetForm;a(e)}},(function(e){e.isSubmitting;var a=e.errors,r=e.touched,l=e.isValid,s=e.handleSubmit;return c.a.createElement("form",{onSubmit:s},c.a.createElement("div",{className:"first-last-name"},c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-user"}),l?c.a.createElement("i",{class:"fas fa-check checkIcon-name"}):null,c.a.createElement(u.a,{className:"firstName",type:"text",name:"firstName",placeholder:"First name..."}),c.a.createElement(E,{touched:r.firstName,message:a.firstName})),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-user"}),l?c.a.createElement("i",{class:"fas fa-check checkIcon-name"}):null,c.a.createElement(u.a,{className:"lastName",type:"text",name:"lastName",placeholder:"Last name..."}),c.a.createElement(E,{touched:r.lastName,message:a.lastName}))),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-envelope iconEmail"}),l?c.a.createElement("i",{class:"fas fa-check checkIcon-rest"}):null,c.a.createElement(u.a,{className:"email-register",name:"email",type:"email",placeholder:"Email"}),c.a.createElement(E,{touched:r.email,message:a.email})),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-key iconPassword"}),l?c.a.createElement("i",{class:"fas fa-check checkIcon-rest"}):null,c.a.createElement(u.a,{className:"password-register",name:"password",type:"password",placeholder:"Password"}),c.a.createElement(E,{touched:r.password,message:a.password})),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-unlock-alt iconPassword"}),l?c.a.createElement("i",{class:"fas fa-check checkIcon-rest"}):null,c.a.createElement(u.a,{className:"confirm-password",type:"password",name:"confirmPassword",placeholder:"Re-type your password..."}),c.a.createElement(E,{touched:r.confirmPassword,message:a.confirmPassword})),c.a.createElement("div",{className:"input-group btn-reg"},c.a.createElement("button",{className:"register-btn",disabled:!l,type:"submit"},l?"Join":c.a.createElement("i",{class:"fas fa-ban"})),c.a.createElement(O,{error:t})),n?c.a.createElement(j,null):null)}))),c.a.createElement("div",{className:"back-to-login"},c.a.createElement("p",null,"Already have an account?"),"\xa0",c.a.createElement(m.b,{to:"/"},"Login here"))))},k=t(100),S=t.n(k),T=t(266),x=function(){var e=Object(i.c)((function(e){return e.firebase.profile.firstName})),a=Object(i.c)((function(e){return e.firebase.profile.cover}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"navbar-container"},c.a.createElement("div",{className:"navbar-content"},c.a.createElement("div",{className:"logo-container"},c.a.createElement("p",null,"HI! ",c.a.createElement("span",{className:"name-logo"},e)," welcome on"),c.a.createElement("h1",null,"safeNotes",c.a.createElement("i",{class:"fas fa-lock"}))),c.a.createElement("div",{className:"links"},c.a.createElement(m.c,{className:"nav-link hvr-icon-buzz-out",to:"/profile"},a?c.a.createElement("img",{className:"nav-profile-image hvr-icon",src:a,alt:"profileImage"}):c.a.createElement("img",{className:"nav-profile-image hvr-icon",src:S.a,alt:"profileImage"})),c.a.createElement(m.c,{className:"nav-link hvr-grow-rotate",to:"/"},"Notes"),c.a.createElement(m.c,{className:"nav-link logout hvr-icon-pulse",to:"/logout"},"Logout",c.a.createElement("i",{class:"fas fa-sign-out-alt hvr-icon"}))))),c.a.createElement("div",{className:"outer-container"},c.a.createElement(T.slide,{width:180,right:!0,pageWrapId:"page-wrap",outerContainerId:"outer-container"},c.a.createElement("p",null,"Hi! ",e),c.a.createElement(m.c,{className:"nav-link hvr-icon-buzz-out",to:"/profile"},a?c.a.createElement("img",{className:"nav-profile-image hvr-icon",src:a,alt:"profileImage"}):c.a.createElement("img",{className:"nav-profile-image hvr-icon",src:S.a,alt:"profileImage"})),c.a.createElement(m.c,{className:"nav-link hvr-grow-rotate",to:"/"},"Notes"),c.a.createElement(m.c,{className:"nav-link logout hvr-icon-pulse",to:"/logout"},"Logout ",c.a.createElement("i",{class:"fas fa-sign-out-alt hvr-icon"})))))},F=function(){var e=Object(i.b)(),a=Object(r.useCallback)((function(){return e(function(){var e=Object(p.a)(f.a.mark((function e(a,t,n){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getFirebase,c=r(),e.prev=2,e.next=5,c.auth().signOut();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0.message);case 10:a({type:"AUTH_END"});case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(a,t,n){return e.apply(this,arguments)}}())}));return Object(r.useEffect)((function(){a()}),[a]),null},I=function(){var e=Object(i.b)(),a=Object(r.useCallback)((function(){return e(function(){var e=Object(p.a)(f.a.mark((function e(a,t,n){var r,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getFirebase,c=r(),a({type:"VERIFY_START"}),e.prev=3,l=c.auth().currentUser,e.next=7,l.sendEmailVerification();case 7:a({type:"VERIFY_SUCCESS"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a({type:"VERIFY_FAIL",payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t,n){return e.apply(this,arguments)}}())})),t=Object(i.c)((function(e){return e.auth.verifyEmail.error})),n=Object(i.c)((function(e){return e.firebase.profile.firstName})),l=Object(i.c)((function(e){return e.firebase.auth.email}));return c.a.createElement("div",{className:"verify-content"},c.a.createElement("div",{className:"verify-container"},c.a.createElement("p",{className:"text-verify"},c.a.createElement("span",{className:"user-info"},n," "),"thank you for joining us! We just need you to verify your",c.a.createElement("span",{className:"user-info-email"}," ",l," "),"address to complete setting up your account and begin to write your",c.a.createElement("span",{className:"app-title"}," SafeNotes",c.a.createElement("i",{class:"fas fa-lock"}))),c.a.createElement("button",{onClick:a},"Re-send verification email \xa0",c.a.createElement("i",{class:"fas fa-paper-plane"})),c.a.createElement(O,{error:t})))},A=t(64),_=function(e){var a=e.opened,t=e.close,n={position:"fixed",top:"0",left:"0",backgroundColor:"rgba(0,0,0,0.8)",width:"100%",height:"100vh",opacity:a?"1":"0",visibility:a?"visible":"hidden",transition:"all 0.4s",zIndex:"1500"};return c.a.createElement("div",{onClick:t,style:n})},C=function(e){var a=e.children,t=e.opened,n=e.close,r={visibility:t?"visible":"hidden",transform:t?"translate(-50%, -50%)":"translate(-50%, -150%)",opacity:t?"1":"0"};return s.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{opened:t,close:n}),c.a.createElement("div",{style:r,className:"my-modal"},a)),document.getElementById("root-modal"))},U=function(){return c.a.createElement("div",{class:"lds-facebook"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))},L=function(){return c.a.createElement("div",{class:"lds-spinner"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))},R=function(){var e=Object(i.c)((function(e){return e.firebase})),a=Object(r.useState)(null),t=Object(A.a)(a,2),n=t[0],l=t[1],s=Object(i.b)(),o=Object(i.c)((function(e){return e.firebase.profile.cover})),m=Object(i.c)((function(e){return e.auth.profileEdit.loading})),d=Object(r.useCallback)((function(e,a){return s(function(e,a){return function(){var t=Object(p.a)(f.a.mark((function t(n,r,c){var l,s,o,i,m,u,d,p,E,b,v,h;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=c.getFirebase,s=c.getFirestore,o=l(),i=s(),m=r().firebase.auth.email,u=o.auth().currentUser,d=r().firebase.auth.uid,n({type:"PROFILE_START"}),t.prev=7,!a){t.next=22;break}return p=o.storage().ref(),E=p.child(a.name),t.next=13,E.put(a);case 13:return b=t.sent,t.next=16,E.getDownloadURL();case 16:return v=t.sent,h=b.ref.location.path,t.next=20,i.collection("users").doc(d).set({firstName:e.firstName,lastName:e.lastName,cover:v,fileRef:h,initials:"".concat(e.firstName[0]).concat(e.lastName[0])});case 20:t.next=24;break;case 22:return t.next=24,i.collection("users").doc(d).set({firstName:e.firstName,lastName:e.lastName,initials:"".concat(e.firstName[0]).concat(e.lastName[0])});case 24:if(e.email===m){t.next=27;break}return t.next=27,u.updateEmail(e.email);case 27:if(!(e.password.length>0)){t.next=31;break}return console.log("update pass"),t.next=31,u.updatePassword(e.password);case 31:n({type:"PROFILE_SUCCESS"}),t.next=37;break;case 34:t.prev=34,t.t0=t.catch(7),n({type:"PROFILE_FAIL",payload:t.t0.message});case 37:case"end":return t.stop()}}),t,null,[[7,34]])})));return function(e,a,n){return t.apply(this,arguments)}}()}(e,a))})),b=Object(i.c)((function(e){return e.auth.profileEdit.error})),v=Object(i.c)((function(e){return e.firebase.profile.firstName})),h=Object(r.useCallback)((function(){return s(function(){var e=Object(p.a)(f.a.mark((function e(a,t,n){var r,c,l,s,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getFirebase,c=n.getFirestore,l=r(),s=c(),o=l.auth().currentUser,i=t().firebase.auth.uid,a({type:"DELETE_USER_START"}),e.prev=6,e.next=9,s.collection("users").doc(i).delete();case 9:return e.next=11,s.collection("notes").doc(i).delete();case 11:return e.next=13,o.delete();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),a({type:"DELETE_USER_FAIL",payload:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(a,t,n){return e.apply(this,arguments)}}())})),N=Object(i.c)((function(e){return e.auth.deleteUser.loading})),j=Object(i.c)((function(e){return e.auth.deleteUser.error})),y=Object(r.useCallback)((function(){return s({type:"CLEAN_UP"})})),w=Object(r.useState)(!1),k=Object(A.a)(w,2),T=k[0],x=k[1];return Object(r.useEffect)((function(){return function(){y()}}),[]),e.profile.isLoaded?c.a.createElement("div",{className:"profile-content"},c.a.createElement("div",{className:"profile-container"},c.a.createElement("div",{className:"title-edit"},c.a.createElement("p",null,"HI ",v,", here you can edit your profile")),m?c.a.createElement(U,null):c.a.createElement("div",{className:"image-title"},c.a.createElement("div",{className:"image-upload"},o?c.a.createElement("img",{className:"profile-image",src:o,alt:"profileImage"}):c.a.createElement("img",{className:"profile-image",src:S.a,alt:"profileImage"})),c.a.createElement("div",{className:"input-group fileUpload"},c.a.createElement("input",{className:"upload",type:"file",onChange:function(e){return l(e.currentTarget.files[0])}}),c.a.createElement("span",null,c.a.createElement("i",{class:"fas fa-camera"})))),c.a.createElement(u.b,{initialValues:{firstName:e.profile.firstName,lastName:e.profile.lastName,email:e.auth.email,password:"",confirmPassword:""},validateOnMount:!0,validationSchema:g,onSubmit:function(e,a){a.setSubmitting,a.resetForm;d(e,n)}},(function(e){var a=e.errors,t=e.values,n=e.touched,r=e.isValid,l=e.handleSubmit;return c.a.createElement("form",{onSubmit:l},c.a.createElement("div",{className:"first-last-name"},c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-user"}),r?c.a.createElement("i",{class:"fas fa-check checkIcon-name"}):null,c.a.createElement(u.a,{className:"firstName",type:"text",name:"firstName",placeholder:"First name..."}),c.a.createElement(E,{touched:n.firstName,message:a.firstName})),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-user"}),r?c.a.createElement("i",{class:"fas fa-check checkIcon-name"}):null,c.a.createElement(u.a,{className:"lastName",type:"text",name:"lastName",placeholder:"Last name..."}),c.a.createElement(E,{touched:n.lastName,message:a.lastName}))),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-envelope iconEmail"}),r?c.a.createElement("i",{class:"fas fa-check checkIcon-rest"}):null,c.a.createElement(u.a,{className:"email-register",name:"email",type:"email",placeholder:"Email"}),c.a.createElement(E,{touched:n.email,message:a.email})),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-key iconPassword"}),t.password.length>8?c.a.createElement("i",{class:"fas fa-check checkIcon-rest"}):null,c.a.createElement(u.a,{className:"password-register",name:"password",type:"password",placeholder:"New password"}),c.a.createElement(E,{touched:n.password,message:a.password})),c.a.createElement("div",{className:"input-group"},c.a.createElement("i",{class:"fas fa-unlock-alt iconPassword"}),t.password.length>8?c.a.createElement("i",{class:"fas fa-check checkIcon-rest"}):null,c.a.createElement(u.a,{className:"confirm-password",type:"password",name:"confirmPassword",placeholder:"Re-type your new password..."}),c.a.createElement(E,{touched:n.confirmPassword,message:a.confirmPassword})),c.a.createElement("div",{className:"input-group btn-reg"},c.a.createElement("button",{className:"edit-btn",disabled:!r,type:"submit"},"Edit profile"),c.a.createElement(O,{error:b})),c.a.createElement("div",{className:"input-group"},c.a.createElement("button",{type:"button",className:"delete-btn",onClick:function(){return x(!0)}},"Delete account \xa0 ",c.a.createElement("i",{className:"fas fa-trash "}))))})),c.a.createElement(C,{close:function(){return x(!1)},opened:T},c.a.createElement("h2",{className:"delete-title"},"Delete your account"),c.a.createElement("p",{className:"delete-text"},c.a.createElement("span",{className:"username-modal"},v)," do you really want to delete your account?"),N?c.a.createElement(L,null):c.a.createElement("div",{className:"delete-btn-div"},c.a.createElement("button",{onClick:h,type:"button",loading:N?"Deleting...":null,className:"delete-btn modal-delete"},"Delete account \xa0 ",c.a.createElement("i",{class:"fas fa-trash"})),c.a.createElement("button",{type:"button",className:"cancel-btn",onClick:function(){return x(!1)}},"Cancel"),c.a.createElement(O,{error:j}))))):null},D=t(29),P=t(267),q=t.n(P),V=t(271),H=t(268),Y=t.n(H),W=t(269),z=t.n(W),M=function(e){var a=e.close,t=e.opened,n=e.id,l=Object(i.b)(),s=Object(r.useCallback)((function(e){return l(function(e){return function(){var a=Object(p.a)(f.a.mark((function a(t,n,r){var c,l,s,o,i,m;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r.getFirestore,l=c(),s=n().firebase.auth.uid,t({type:"DELETE_NOTE_START"}),a.prev=4,a.next=7,l.collection("notes").doc(s).get();case 7:return o=a.sent,i=o.data().notes,m=i.filter((function(a){return a.id!==e})),a.next=12,l.collection("notes").doc(s).update({notes:m});case 12:t({type:"DELETE_NOTE_SUCCESS"}),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(4),t({type:"DELETE_NOTE_FAIL",payload:a.t0.message});case 18:case"end":return a.stop()}}),a,null,[[4,15]])})));return function(e,t,n){return a.apply(this,arguments)}}()}(e))})),o=Object(i.c)((function(e){return e.notes.deleteNote.error})),m=Object(i.c)((function(e){return e.notes.deleteNote.loading}));return c.a.createElement(C,{close:a,opened:t},c.a.createElement("p",{className:"note-delete-text"},"Are you sure you want to delete note?"),c.a.createElement("div",{className:"note-delete-div"},c.a.createElement("button",{onClick:function(){return s(n)},type:"button",className:"delete-btn modal-delete"},m?c.a.createElement("span",null,"Deleting"):c.a.createElement("span",null,"Delete note\xa0 ",c.a.createElement("i",{class:"fas fa-trash"}))),c.a.createElement("button",{onClick:a,type:"button",className:"cancel-btn"},"Cancel")),c.a.createElement(O,{error:o}))},B=function(e){var a=e.note,t=z()(a.date.toDate()).fromNow(),n=Object(r.useState)(!1),l=Object(A.a)(n,2),s=l[0],o=l[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"note-card"},c.a.createElement("img",{className:"note-ui",src:Y.a,alt:"noteUi"}),c.a.createElement("p",null,a.todo),c.a.createElement("div",{className:"note-date"},c.a.createElement("i",{class:"far fa-clock"}),c.a.createElement("p",null,t)),c.a.createElement("i",{onClick:function(){return o(!0)},class:"fas fa-trash-alt hvr-grow-rotate"})),c.a.createElement(M,{id:a.id,close:function(){return o(!1)},opened:s}))},G=function(){return c.a.createElement("div",{class:"lds-ripplee"},c.a.createElement("div",null),c.a.createElement("div",null))},J=function(){var e=Object(i.c)((function(e){return e.firebase.auth.uid})),a=Object(i.c)((function(e){return e.firestore.data.notes}));Object(D.useFirestoreConnect)([{collection:"notes",doc:e}]);var t,n=Object(i.c)((function(a){var t=a.firestore.data;return t.notes&&t.notes[e]}));return t=a?a[e]&&a[e].notes?n.notes.length<1?c.a.createElement("div",{className:"empty-notes-content"},c.a.createElement("h2",null,"You don't have notes.."),c.a.createElement("h2",{className:"app-title-empty"},c.a.createElement("span",null,"Write your")," SafeNotes",c.a.createElement("i",{class:"fas fa-lock"}))):n.notes.slice(0).reverse().map((function(e){return c.a.createElement(B,{key:e.id,note:e})})):c.a.createElement("div",{className:"empty-notes-content"},c.a.createElement("h2",null,"You don't have notes.."),c.a.createElement("h2",{className:"app-title-empty"},c.a.createElement("span",null,"Write your")," SafeNotes",c.a.createElement("i",{class:"fas fa-lock"}))):c.a.createElement(G,null),c.a.createElement("div",{className:"note-content"},t)},K=function(){var e=Object(r.useState)(!1),a=Object(A.a)(e,2),t=a[0],n=a[1],l=Object(i.b)(),s=Object(r.useCallback)((function(e){return l(function(e){return function(){var a=Object(p.a)(f.a.mark((function a(t,n,r){var c,l,s,o,i,m;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r.getFirebase,l=r.getFirestore,s=l(),o=n().firebase.auth.uid,c(),t({type:"ADD_NOTE_START"}),a.prev=5,a.next=8,s.collection("notes").doc(o).get();case 8:i=a.sent,m={id:(new Date).valueOf(),todo:e.note,date:new Date},i.data()?s.collection("notes").doc(o).update({notes:[].concat(Object(V.a)(i.data().notes),[m])}):s.collection("notes").doc(o).set({notes:[m]}),t({type:"ADD_NOTE_SUCCESS"}),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(5),console.log(a.t0.message),t({type:"ADD_NOTE_FAIL",payload:a.t0.message});case 18:case"end":return a.stop()}}),a,null,[[5,14]])})));return function(e,t,n){return a.apply(this,arguments)}}()}(e))})),o=Object(i.c)((function(e){return e.notes.error})),m=Object(i.c)((function(e){return e.firebase.auth.uid})),d=Object(i.c)((function(e){return e.firebase.profile.firstName}));Object(D.useFirestoreConnect)([{collection:"notes",doc:m}]);var b=Object(i.c)((function(e){var a=e.firestore.data;return a.notes&&a.notes[m]})),v=b?b.notes.length:"0";return c.a.createElement("div",{className:"notes-content"},c.a.createElement("div",{className:"notes-title"},c.a.createElement("div",null,c.a.createElement("h2",null,"Your Notes"),c.a.createElement("p",null,d," you have ",v," notes from now...")),c.a.createElement("i",{onClick:function(){return n(!0)},class:"fas fa-plus-circle hvr-pop"})),c.a.createElement(C,{close:function(){return n(!1)},opened:t},c.a.createElement(u.b,{initialValues:{note:""},validationSchema:N,validateOnMount:!0,onSubmit:function(){var e=Object(p.a)(f.a.mark((function e(a,t){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.resetForm,c=t.setSubmitting,e.next=3,s(a);case 3:n(!1),c(!1),r();case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){e.isSubmitting;var a=e.touched,t=e.isValid,r=e.resetForm,l=(e.onSubmit,e.errors),s=e.handleSubmit;return c.a.createElement("form",{className:"note-form",onSubmit:s},c.a.createElement("div",{className:"input-group"},c.a.createElement(u.a,{component:"textarea",rows:"14",cols:"20",type:"text",name:"note",placeholder:"Add your new note...",className:"note-input"}),c.a.createElement(E,{touched:a.note,message:l.note})),c.a.createElement("div",{className:"note-btn-div"},c.a.createElement("div",{className:"input-group"},c.a.createElement("button",{disabled:!t,className:"modal-add-note-btn",type:"submit"},"Add note"))),c.a.createElement("div",{className:"x-modal-btn"},c.a.createElement("button",{type:"button",onClick:function(){n(!1),r()}},c.a.createElement("i",{class:"far fa-times-circle"}))))})),c.a.createElement("img",{className:"note-modal",src:q.a,alt:""}),c.a.createElement(O,{error:o})),c.a.createElement(J,null))},X=function(){var e,a=Object(i.c)((function(e){return e.firebase.auth.uid})),t=Object(i.c)((function(e){return e.firebase.auth.emailVerified}));return e=a&&!t?c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/",component:I}),c.a.createElement(o.b,{path:"/navbar",component:x}),c.a.createElement(o.b,{path:"/logout",component:F}),c.a.createElement(o.b,{path:"/profile",component:R}),c.a.createElement(o.a,{to:"/"})):a&&t?c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/",component:K}),c.a.createElement(o.b,{path:"/logout",component:F}),c.a.createElement(o.b,{exact:!0,path:"/profile",component:R})):c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/",component:y}),c.a.createElement(o.b,{exact:!0,path:"/signup",component:w}),c.a.createElement(o.a,{to:"/"})),c.a.createElement("div",{className:a?"loggedIn-content":null},a?c.a.createElement(x,null):null,e)};var Z=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(X,null))},Q=t(50),$=t(270),ee=t(1),ae={error:null,loading:!1,verifyEmail:{error:null,loading:!1},profileEdit:{error:null,loading:!1},deleteUser:{error:null,loading:!1}},te=t(42),ne=t.n(te),re={error:null,loading:!1,deleteNote:{error:null,loading:!1}},ce=Object(Q.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"AUTH_START":return Object(ee.a)(Object(ee.a)({},e),{},{loading:!0});case"AUTH_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{error:!1,loading:!1});case"AUTH_FAIL":return Object(ee.a)(Object(ee.a)({},e),{},{error:n,loading:!1});case"AUTH_END":return Object(ee.a)(Object(ee.a)({},e),{},{loading:!1});case"VERIFY_START":return Object(ee.a)(Object(ee.a)({},e),{},{verifyEmail:Object(ee.a)(Object(ee.a)({},e.verifyEmail),{},{loading:!0})});case"VERIFY_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{verifyEmail:Object(ee.a)(Object(ee.a)({},e.verifyEmail),{},{error:!1,loading:!1})});case"VERIFY_FAIL":return Object(ee.a)(Object(ee.a)({},e),{},{verifyEmail:Object(ee.a)(Object(ee.a)({},e.verifyEmail),{},{error:n,loading:!1})});case"PROFILE_START":return Object(ee.a)(Object(ee.a)({},e),{},{profileEdit:Object(ee.a)(Object(ee.a)({},e.profileEdit),{},{loading:!0})});case"PROFILE_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{profileEdit:Object(ee.a)(Object(ee.a)({},e.profileEdit),{},{error:!1,loading:!1})});case"PROFILE_FAIL":return Object(ee.a)(Object(ee.a)({},e),{},{profileEdit:Object(ee.a)(Object(ee.a)({},e.profileEdit),{},{error:n,loading:!1})});case"DELETE_USER_START":return Object(ee.a)(Object(ee.a)({},e),{},{deleteUser:Object(ee.a)(Object(ee.a)({},e.deleteUser),{},{error:!1,loading:!0})});case"DELETE_USER_FAIL":return Object(ee.a)(Object(ee.a)({},e),{},{deleteUser:Object(ee.a)(Object(ee.a)({},e.deleteUser),{},{error:n,loading:!1})});case"CLEAN_UP":return Object(ee.a)(Object(ee.a)({},e),{},{error:null,loading:!1,verifyEmail:Object(ee.a)(Object(ee.a)({},e.verifyEmail),{},{error:null,loading:!1}),profileEdit:Object(ee.a)(Object(ee.a)({},e.profileEdit),{},{error:null,loading:!1}),deleteUser:Object(ee.a)(Object(ee.a)({},e.deleteUser),{},{error:null,loading:!1})});default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"ADD_NOTE_START":return Object(ee.a)(Object(ee.a)({},e),{},{loading:!0});case"ADD_NOTE_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{loading:!1,error:!1});case"ADD_NOTE_FAIL":return Object(ee.a)(Object(ee.a)({},e),{},{loading:!1,error:n});case"DELETE_NOTE_START":return Object(ee.a)(Object(ee.a)({},e),{},{deleteNote:Object(ee.a)(Object(ee.a)({},e.deleteNote),{},{loading:!0})});case"DELETE_NOTE_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{deleteNote:Object(ee.a)(Object(ee.a)({},e.deleteNote),{},{loading:!1,error:!1})});case"DELETE_NOTE_FAIL":return Object(ee.a)(Object(ee.a)({},e),{},{deleteNote:Object(ee.a)(Object(ee.a)({},e.deleteNote),{},{loading:!1,error:n})});default:return e}},firebase:D.firebaseReducer,firestore:te.firestoreReducer}),le=t(87),se=t.n(le);t(481),t(485),t(488);se.a.initializeApp({apiKey:"AIzaSyAmXbvnZVFnGAXA1eMKsiDV8BTCGWFyckM",authDomain:"safenotes-bb42b.firebaseapp.com",databaseURL:"https://safenotes-bb42b.firebaseio.com",projectId:"safenotes-bb42b",storageBucket:"safenotes-bb42b.appspot.com",messagingSenderId:"327547040246",appId:"1:327547040246:web:18869d42525004f46917d7",measurementId:"G-Z89FDF38LH"}),se.a.firestore();var oe,ie=se.a,me=Q.d,ue=Object(Q.e)(ce,me(Object(te.reduxFirestore)(ie,ne.a),Object(Q.a)($.a.withExtraArgument({getFirebase:D.getFirebase,getFirestore:te.getFirestore})))),de=function(){return c.a.createElement("div",{class:"lds-ripple"},c.a.createElement("div",null),c.a.createElement("div",null))},fe=(oe={firebase:se.a,config:ie},Object(n.a)(oe,"config",{userProfile:"users",useFirestoreForProfile:!0}),Object(n.a)(oe,"dispatch",ue.dispatch),Object(n.a)(oe,"createFirestoreInstance",te.createFirestoreInstance),oe);function pe(e){var a=e.children,t=Object(i.c)((function(e){return e.firebase.auth}));return Object(D.isLoaded)(t)?a:c.a.createElement("div",{className:"loader-div"},c.a.createElement(de,null))}s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:ue},c.a.createElement(D.ReactReduxFirebaseProvider,fe,c.a.createElement(m.a,null,c.a.createElement(pe,null,c.a.createElement(Z,null)))))),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.74994cac.chunk.js.map