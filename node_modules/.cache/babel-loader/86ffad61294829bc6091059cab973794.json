{"ast":null,"code":"var _jsxFileName = \"/home/vlada1/Desktop/safeNotes/src/Auth/UserProfile/UserProfile.js\";\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Formik, Field } from 'formik';\nimport { useDispatch, useSelector } from 'react-redux'; // Components\n\nimport { ProfileSchema } from '../ValidationSchemas/';\nimport { FormError } from '../../Components/FormError/FormError';\nimport { editProfile } from '../../store/actions/authAction';\nimport { Modal } from '../../Components/Modal/Modal';\nimport { deleteUserProfile } from '../../store/actions/authAction';\nimport { MessageError } from '../../Components/MessageError/MessageError';\nimport profilePlaceholder from '../../images/profile.jpg';\nimport { cleanMessage } from '../../store/actions/authAction';\nimport { EditProfileLoader } from '../../Components/Loader/EditProfileLoader';\nimport { DeleteLoader } from '../../Components/Loader/DeleteLoader';\nexport const UserProfile = () => {\n  const firebase = useSelector(state => state.firebase);\n  const [image, setImage] = useState(null);\n  const dispatch = useDispatch();\n  const myImg = useSelector(state => state.firebase.profile.cover);\n  const loadingProfile = useSelector(state => state.auth.profileEdit.loading); // Edit Profile\n\n  const editProfileAction = useCallback((values, image) => dispatch(editProfile(values, image)));\n  const errorEdit = useSelector(state => state.auth.profileEdit.error);\n  const userName = useSelector(state => state.firebase.profile.firstName); // Delete Profile\n\n  const deleteUserAction = useCallback(() => dispatch(deleteUserProfile()));\n  const loadingDelete = useSelector(state => state.auth.deleteUser.loading);\n  const errorDelete = useSelector(state => state.auth.deleteUser.error);\n  const cleanMessageAction = useCallback(() => dispatch(cleanMessage()));\n  const [modalOpened, setModalOpened] = useState(false);\n  useEffect(() => {\n    return () => {\n      cleanMessageAction();\n    };\n  }, []);\n  if (!firebase.profile.isLoaded) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"HI \", userName, \", here you can edit your profile\")), loadingProfile ? /*#__PURE__*/React.createElement(EditProfileLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 35\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, !myImg ? /*#__PURE__*/React.createElement(\"img\", {\n    className: \"profile-image\",\n    src: profilePlaceholder,\n    alt: \"profileImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 35\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"profile-image\",\n    src: myImg,\n    alt: \"profileImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 35\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group fileUpload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"upload\",\n    type: \"file\",\n    onChange: e => setImage(e.currentTarget.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-camera\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 35\n    }\n  })))), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      firstName: firebase.profile.firstName,\n      lastName: firebase.profile.lastName,\n      email: firebase.auth.email,\n      password: '',\n      confirmPassword: ''\n    },\n    validateOnMount: true,\n    validationSchema: ProfileSchema,\n    onSubmit: (values, {\n      setSubmitting,\n      resetForm\n    }) => {\n      editProfileAction(values, image);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, ({\n    errors,\n    values,\n    touched,\n    isValid,\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-last-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 37\n    }\n  }), isValid ? /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-check checkIcon-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 48\n    }\n  }) : null, /*#__PURE__*/React.createElement(Field, {\n    className: \"firstName\",\n    type: \"text\",\n    name: \"firstName\",\n    placeholder: \"First name...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(FormError, {\n    touched: touched.firstName,\n    message: errors.firstName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }), isValid ? /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-check checkIcon-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 48\n    }\n  }) : null, /*#__PURE__*/React.createElement(Field, {\n    className: \"lastName\",\n    type: \"text\",\n    name: \"lastName\",\n    placeholder: \"Last name...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(FormError, {\n    touched: touched.lastName,\n    message: errors.lastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-envelope iconEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }), isValid ? /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-check checkIcon-rest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 44\n    }\n  }) : null, /*#__PURE__*/React.createElement(Field, {\n    className: \"email-register\",\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(FormError, {\n    touched: touched.email,\n    message: errors.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-key iconPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }), values.password.length > 8 ? /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-check checkIcon-rest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 63\n    }\n  }) : null, /*#__PURE__*/React.createElement(Field, {\n    className: \"password-register\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"New password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(FormError, {\n    touched: touched.password,\n    message: errors.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-unlock-alt iconPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }), values.password.length > 8 ? /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-check checkIcon-rest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 63\n    }\n  }) : null, /*#__PURE__*/React.createElement(Field, {\n    className: \"confirm-password\",\n    type: \"password\",\n    name: \"confirmPassword\",\n    placeholder: \"Re-type your new password...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(FormError, {\n    touched: touched.confirmPassword,\n    message: errors.confirmPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group btn-reg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-btn\",\n    disabled: !isValid,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }, \"Edit profile\"), /*#__PURE__*/React.createElement(MessageError, {\n    error: errorEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"delete-btn\",\n    onClick: () => setModalOpened(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, \"Delete account \\xA0 \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 59\n    }\n  }))))), /*#__PURE__*/React.createElement(Modal, {\n    close: () => setModalOpened(false),\n    opened: modalOpened,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"delete-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, \"Delete your account\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"delete-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"username-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 48\n    }\n  }, userName), \" do you really want to delete your account?\"), loadingDelete ? /*#__PURE__*/React.createElement(DeleteLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 38\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete-btn-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: deleteUserAction,\n    type: \"button\",\n    loading: loadingDelete ? 'Deleting...' : null,\n    className: \"delete-btn modal-delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }, \"Delete account \\xA0 \", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-trash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 55\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"cancel-btn\",\n    onClick: () => setModalOpened(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(MessageError, {\n    error: errorDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 29\n    }\n  })))));\n};","map":{"version":3,"sources":["/home/vlada1/Desktop/safeNotes/src/Auth/UserProfile/UserProfile.js"],"names":["React","useState","useCallback","useEffect","Formik","Field","useDispatch","useSelector","ProfileSchema","FormError","editProfile","Modal","deleteUserProfile","MessageError","profilePlaceholder","cleanMessage","EditProfileLoader","DeleteLoader","UserProfile","firebase","state","image","setImage","dispatch","myImg","profile","cover","loadingProfile","auth","profileEdit","loading","editProfileAction","values","errorEdit","error","userName","firstName","deleteUserAction","loadingDelete","deleteUser","errorDelete","cleanMessageAction","modalOpened","setModalOpened","isLoaded","e","currentTarget","files","lastName","email","password","confirmPassword","setSubmitting","resetForm","errors","touched","isValid","handleSubmit","length"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { Formik, Field } from 'formik';\nimport { useDispatch, useSelector } from 'react-redux';\n\n// Components\nimport { ProfileSchema } from '../ValidationSchemas/';\nimport { FormError } from '../../Components/FormError/FormError';\nimport { editProfile } from '../../store/actions/authAction';\nimport { Modal } from '../../Components/Modal/Modal';\nimport { deleteUserProfile } from '../../store/actions/authAction';\nimport { MessageError } from '../../Components/MessageError/MessageError';\nimport profilePlaceholder from '../../images/profile.jpg';\nimport { cleanMessage } from '../../store/actions/authAction';\nimport { EditProfileLoader } from '../../Components/Loader/EditProfileLoader';\nimport { DeleteLoader } from '../../Components/Loader/DeleteLoader';\n\nexport const UserProfile = () => {\n\n    const firebase = useSelector(state => state.firebase);\n    const [image, setImage] = useState(null);\n\n    const dispatch = useDispatch();\n    const myImg = useSelector(state => state.firebase.profile.cover)\n    const loadingProfile = useSelector(state => state.auth.profileEdit.loading);\n\n    // Edit Profile\n    const editProfileAction = useCallback((values, image) => dispatch(editProfile(values, image)))\n    const errorEdit = useSelector(state => state.auth.profileEdit.error);\n    const userName = useSelector(state => state.firebase.profile.firstName);\n\n    // Delete Profile\n    const deleteUserAction = useCallback(() => dispatch(deleteUserProfile()));\n    const loadingDelete = useSelector(state => state.auth.deleteUser.loading);\n    const errorDelete = useSelector(state => state.auth.deleteUser.error);\n    const cleanMessageAction = useCallback(() => dispatch(cleanMessage()));\n\n    const [modalOpened, setModalOpened] = useState(false);\n\n\n    useEffect(() => {\n        return () => {\n            cleanMessageAction()\n        }\n    }, [])\n\n    if (!firebase.profile.isLoaded) return null;\n\n    return (\n        <div className='profile-content'>\n            <div className=\"profile-container\">\n                <div className=\"title-edit\">\n                    <p>HI {userName}, here you can edit your profile</p>\n                </div>\n\n                {loadingProfile ? <EditProfileLoader /> :\n                    <div className=\"image-title\">\n\n                        <div className=\"image-upload\">\n                            {!myImg\n                                ? <img className='profile-image' src={profilePlaceholder} alt=\"profileImage\" />\n                                : <img className='profile-image' src={myImg} alt=\"profileImage\" />}\n                        </div>\n\n                        <div className=\"input-group fileUpload\">\n                            <input\n                                className='upload'\n                                type=\"file\"\n                                onChange={(e) => setImage(e.currentTarget.files[0])} />\n                            <span><i class=\"fas fa-camera\"></i></span>\n                        </div>\n                    </div>}\n\n                <Formik\n                    initialValues={{\n                        firstName: firebase.profile.firstName,\n                        lastName: firebase.profile.lastName,\n                        email: firebase.auth.email,\n                        password: '',\n                        confirmPassword: ''\n                    }}\n                    validateOnMount={true}\n                    validationSchema={ProfileSchema}\n                    onSubmit={(values, { setSubmitting, resetForm }) => {\n                        editProfileAction(values, image)\n                    }}\n                >\n                    {({ errors, values, touched, isValid, handleSubmit }) => (\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"first-last-name\">\n                                <div className=\"input-group\">\n                                    <i class=\"fas fa-user\"></i>\n                                    {isValid ? <i class=\"fas fa-check checkIcon-name\"></i> : null}\n                                    <Field\n                                        className='firstName'\n                                        type='text'\n                                        name='firstName'\n                                        placeholder='First name...' />\n                                    <FormError touched={touched.firstName} message={errors.firstName} />\n                                </div>\n                                <div className=\"input-group\">\n                                    <i class=\"fas fa-user\"></i>\n                                    {isValid ? <i class=\"fas fa-check checkIcon-name\"></i> : null}\n                                    <Field\n                                        className='lastName'\n                                        type='text'\n                                        name='lastName'\n                                        placeholder='Last name...' />\n                                    <FormError touched={touched.lastName} message={errors.lastName} />\n                                </div>\n                            </div>\n                            <div className=\"input-group\">\n                                <i class=\"fas fa-envelope iconEmail\"></i>\n                                {isValid ? <i class=\"fas fa-check checkIcon-rest\"></i> : null}\n                                <Field\n                                    className='email-register'\n                                    name='email'\n                                    type=\"email\"\n                                    placeholder='Email' />\n                                <FormError touched={touched.email} message={errors.email} />\n                            </div>\n                            <div className=\"input-group\">\n                                <i class=\"fas fa-key iconPassword\"></i>\n                                {values.password.length > 8 ? <i class=\"fas fa-check checkIcon-rest\"></i> : null}\n\n                                <Field\n                                    className='password-register'\n                                    name='password'\n                                    type=\"password\"\n                                    placeholder='New password' />\n                                <FormError touched={touched.password} message={errors.password} />\n                            </div>\n                            <div className=\"input-group\">\n                                <i class=\"fas fa-unlock-alt iconPassword\"></i>\n                                {values.password.length > 8 ? <i class=\"fas fa-check checkIcon-rest\"></i> : null}\n\n                                <Field\n                                    className='confirm-password'\n                                    type='password'\n                                    name='confirmPassword'\n                                    placeholder='Re-type your new password...'\n                                />\n                                <FormError touched={touched.confirmPassword} message={errors.confirmPassword} />\n                            </div>\n                            <div className=\"input-group btn-reg\">\n                                <button\n                                    className='edit-btn'\n                                    disabled={!isValid}\n                                    type=\"submit\">\n                                    Edit profile\n                                </button>\n                                <MessageError error={errorEdit} />\n                            </div>\n\n                            <div className=\"input-group\">\n                                <button\n                                    type='button'\n                                    className='delete-btn'\n                                    onClick={() => setModalOpened(true)}>\n                                    Delete account &nbsp; <i className=\"fas fa-trash \"></i>\n                                </button>\n                            </div>\n                        </form>\n                    )}\n                </Formik>\n\n\n                {/* Modal */}\n                <Modal\n                    close={() => setModalOpened(false)}\n                    opened={modalOpened}\n                >\n                    <h2 className='delete-title'>Delete your account</h2>\n                    <p className='delete-text'><span className='username-modal'>{userName}</span> do you really want to delete your account?</p>\n\n                    {loadingDelete ? <DeleteLoader /> :\n                        <div className='delete-btn-div'>\n                            <button\n                                onClick={deleteUserAction}\n                                type='button'\n                                loading={loadingDelete ? 'Deleting...' : null}\n                                className='delete-btn modal-delete'>\n                                Delete account &nbsp; <i class=\"fas fa-trash\"></i>\n                            </button>\n\n                            <button\n                                type='button'\n                                className='cancel-btn'\n                                onClick={() => setModalOpened(false)}>\n                                Cancel\n                        </button>\n                            <MessageError error={errorDelete} />\n                        </div>}\n                </Modal>\n\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}